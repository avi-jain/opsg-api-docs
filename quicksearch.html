<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"global.html":{"id":"global.html","title":"Global","body":" Documentation Global addCHMToConsignmentaddConsignmentDetailsaddConsignmentToFleetByIdaddDriveraddNodeaddRouteaddVehicleassignBagsassignCHMcreateCompanycreateConsignmentWithCHMcreateConsignmentWithDetailscreateEmptyConsignmentdeleteNodeByIddeleteRouteByIddeleteVehicleByIdgetAllActiveBagsWithCompanygetAllBagsgetAllBagsWithCompanygetAllCHMSensorDetailsByIdgetAllCompaniesgetAllConsignmentDetailsgetAllFleetsgetAllFreeBagsgetAllFreeBagsWithCompanygetAllNodesgetAllRoutesgetAllVehiclesgetBagDetailsgetBagWeightgetCHMLocationByIdgetCHMPressureByIdgetCHMTemperatureByIdgetConsignmentDetailsgetFleetDetailsByIdgetLockStatusgetNodeByIdgetRouteByIdgetVehicleByIdreceivingFacilityremoveCHMFromConsignmentsendingFacility Global Methods addCHMToConsignment(consid, chmid) Add chm to Consignment via ID Parameters: Name Type Description consid ID id of the consignment chmid ID id of the chm Returns: chm - updated CHM object with all details as per schema Type Object addConsignmentDetails(vehicle, route, driver, start_date, end_date, truck_load, weight) Update the consignment with details Parameters: Name Type Description vehicle ID id of the vehicle route ID id of the route driver ID id of the driver start_date Date start date of consignment end_date Date end date of consignment truck_load Number truck load of the consignment weight Number weight of the consignment Returns: cons - consignment object with all details Type Object addConsignmentToFleetById(fid, consid) Parameters: Name Type Description fid ID id of the fleet consid ID id of the consignment Returns: fleet - Fleet object with all details as per schema Type Object addDriver() addNode(name, dest, street, city, log, lat) Parameters: Name Type Description name String Origin of the bag dest String Destination street String street city String city log String longitude lat String latitude addRoute(id, id) Adding a route. Allow for adding pitstops too (depends on how data is sent) Can be saved as names of nodes directly instead of ids too Parameters: Name Type Description id ID origin Node id ID destination Node Returns: id - ID of newly created route Type ID addVehicle(type, subtype, number, documents) Parameters: Name Type Description type String type of the vehicle subtype String subtype number String plate number documents String documents of vehicle, if any assignBags(company, assign) Allocate bags to company and reverse. Basically set company field and remove field through ID Parameters: Name Type Description company String company id assign Array array containing bag ids Returns: Message assignCHM() createCompany(name, desc, email) Creates client as well as business credentials for the company. Sends mail via Mailgun Parameters: Name Type Description name String Name of the Company desc String Description of the company email String Email ID of the company Returns: Company was created successfully Type String createConsignmentWithCHM(chmid, vehicle, route, driver, start_date, end_date, truck_load, weight) Create new consignment and simulataneously attach a chm to it via ID along with other details Parameters: Name Type Description chmid ID id of the chm to be attached vehicle ID id of the vehicle route ID id of the route driver ID id of the driver start_date Date start date of consignment end_date Date end date of consignment truck_load Number truck load of the consignment weight Number weight of the consignment Returns: cons - consignment object with all details Type Object createConsignmentWithDetails(vehicle, route, driver, start_date, end_date, truck_load, weight) Parameters: Name Type Description vehicle ID id of the vehicle route ID id of the route driver ID id of the driver start_date date start date of consignment end_date date end date of consignment truck_load Number truck load of the consignment weight Number weight of the consignment Returns: consignment object with all details Type Object createEmptyConsignment() Parameters: Name Type Description user._id ID id of the company FROM THE SESSION Returns: _id - id of the newly created empty consignment Type ID deleteNodeById(id) Delete node Parameters: Name Type Description id ID id of Node deleteRouteById(id) Delete node Parameters: Name Type Description id ID Route id Returns: Message deleteVehicleById(id) Parameters: Name Type Description id ID ID of the vehicle Returns: message - status message (vehicle deleted) Type String getAllActiveBagsWithCompany(_company) Parameters: Name Type Description _company ID Fetches ID from session params. Front-end need not send Returns: - bags - All the active bags with company Type Array getAllBags() Shows all bags in inventory Returns: - bags - All the bags (assigned + unassigned) Type Array getAllBagsWithCompany(_company) Parameters: Name Type Description _company ID Fetches ID from session params Returns: - bags - All the bags with company Type Array getAllCHMSensorDetailsById() The function takes in the CHM id and return specific sensor details getAllCompanies() Shows all companies Returns: - companies - All the companies Type Array getAllConsignmentDetails() Returns: - all consignments of company with all details as per schema Type Object | Array getAllFleets() Get all fleets of the company Returns: fleets - object with all details of all fleets as per schema Type Object | Array getAllFreeBags() Shows all bags in inventory which haven't been assigned Returns: - bags - All the bags which are unassigned Type Array getAllFreeBagsWithCompany(_company) Parameters: Name Type Description _company ID Fetches ID from session params Returns: - bags - All the free/inactive bags with company Type Array getAllNodes() Find all nodes for a firm Should be logged in as the company getAllRoutes() Find all the routes for a company getAllVehicles(None) Parameters: Name Type Description None Returns: vehicles - all vehicles associated with that company Type Object | Array getBagDetails(bid) Parameters: Name Type Description bid ID ID of the bag Returns: bag - bag detals Type Object getBagWeight(bid) Parameters: Name Type Description bid ID Bag ID Returns: - Weight Type String getCHMLocationById() The function takes in the CHM id and return specific sensor details getCHMPressureById() The function takes in the CHM id and return specific sensor details getCHMTemperatureById() The function takes in the CHM id and return specific sensor details getConsignmentDetails(id) Parameters: Name Type Description id ID id of the consignment Returns: cons- consignment object with all details as per schema Type Object getFleetDetailsById(id) Parameters: Name Type Description id ID id of the fleet Returns: fleet - Fleet object with all details as per schema Type Object getLockStatus(bid) Parameters: Name Type Description bid ID Bag ID Returns: - Lock State Type String getNodeById(id) Find the route by specifying id Parameters: Name Type Description id ID id of Node getRouteById(id) Find the route by specifying id Parameters: Name Type Description id ID Id of Route Returns: route - details of route (Nodes are given as IDs) Type Object getVehicleById(id) Parameters: Name Type Description id ID id of the vehicle Returns: vehicle - vehicle object with all details as per schema Type Object receivingFacility(bagid, status) After displaying details, there's a radio button for accepting/rejecting bag. Since there can be multiple pitstops, the app sends the status signal for when the bag completes its journey(inactive). Parameters: Name Type Description bagid ID bag ID status String set status to active or inactive(if destination node) Returns: bag - Bag Details Type Object | JSON removeCHMFromConsignment(consid) Parameters: Name Type Description consid ID id of the consignment Returns: cons - consignment object after it has been modified,ie. CHM is removed Type Object sendingFacility(origin, lock, dest, prelock, postlock, cpw, tlnum) Sending facility route - bags automatically gets an active status Parameters: Name Type Description origin String Origin of the bag lock String state - enum - open/close dest String Destination of the bag prelock Number prelock weight postlock Number postlock weight cpw Number cumulative products weight tlnum Number true lock number Returns: bag - bag object for confirmation of details Type Object | String × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-10-13T02:36:59+05:30 using the DocStrap template. "},"index.html":{"id":"index.html","title":"Index","body":" Documentation Global addCHMToConsignmentaddConsignmentDetailsaddConsignmentToFleetByIdaddDriveraddNodeaddRouteaddVehicleassignBagsassignCHMcreateCompanycreateConsignmentWithCHMcreateConsignmentWithDetailscreateEmptyConsignmentdeleteNodeByIddeleteRouteByIddeleteVehicleByIdgetAllActiveBagsWithCompanygetAllBagsgetAllBagsWithCompanygetAllCHMSensorDetailsByIdgetAllCompaniesgetAllConsignmentDetailsgetAllFleetsgetAllFreeBagsgetAllFreeBagsWithCompanygetAllNodesgetAllRoutesgetAllVehiclesgetBagDetailsgetBagWeightgetCHMLocationByIdgetCHMPressureByIdgetCHMTemperatureByIdgetConsignmentDetailsgetFleetDetailsByIdgetLockStatusgetNodeByIdgetRouteByIdgetVehicleByIdreceivingFacilityremoveCHMFromConsignmentsendingFacility × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-10-13T02:36:59+05:30 using the DocStrap template. "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
